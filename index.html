<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="newStyle.css">
    <title>Midterm Data entry</title>
</head>

<body>
    <div class="form">
        <button class="back" onclick="changeStudent('-1')"><img src="icons/Back.png" alt="Back"></button>
        <div class="box">
            <input class="firstRow rollNo br-top-l" type="text" placeholder="Roll Number" disabled>
            <input class="firstRow Name br-top-r" type="text" placeholder="Name" disabled>
            <input class="secondRow Marks br-bot-l br-bot-r" type="text" placeholder="Marks"
                oninput="handleMarks(this)">
        </div>
        <button class="next" onclick="changeStudent('1')"><img src="icons/Next.png" alt="Next"></button>
    </div>

    <script>
        let marks = "";
        let rollNo = document.querySelector(".rollNo");
        let Name = document.querySelector(".Name");
        let Marks = document.querySelector(".Marks");
        let Data = [{
            name: "Shadow",
            roll: 2063012,
            marks: -1
        },
        {
            name: "Shahid",
            roll: 202412,
            marks: -1
        },
        {
            name: "Zahid",
            roll: 32221,
            marks: -1
        },
        {
            name: "Kabir",
            roll: 4311,
            marks: -1
        },
        {
            name: "Meher",
            roll: 1351,
            marks: -1
        }
        ];
        let currentStudent = 0;
        function changeStudent(val) {
            marks = "";
            val = parseInt(val);
            if ((currentStudent == 0 && val < 0) || (currentStudent == Data.length - 1 && val > 0)) {
                currentStudent ? alert("Last Student") : alert("First Student");
                return
            }
            Data[currentStudent].marks = Marks.value;
            currentStudent += val;

            if (Data[currentStudent].marks < 0) {
                Marks.value = "";
            }
            rollNo.value = Data[currentStudent].roll;
            Name.value = Data[currentStudent].name;
            if (Data[currentStudent].marks >= 0) {
                Marks.value = Data[currentStudent].marks;
            }
        }
        function handleMarks(val) {
            let pattren = /^\d+$/i
            changeMarks = pattren.test(Marks.value);
            if (changeMarks) {
                marks = Marks.value;
            }
            else {
                Marks.value = marks;
            }
        }
        rollNo.value = Data[currentStudent].roll;
        Name.value = Data[currentStudent].name;
    </script>
</body>

</html>